<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java 多线程 | 小明的学习笔记</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <link rel="apple-touch-icon" href="/docs/icons/apple-touch-icon.png">
    <meta name="description" content="">
    <meta name="author" content="小明coding">
    <meta name="keywords" content="vuepress介绍,vuepress博客,小明coding">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/192x192.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.62f053a6.css" as="style"><link rel="preload" href="/docs/assets/js/app.07c7a9d2.js" as="script"><link rel="preload" href="/docs/assets/js/3.496349f1.js" as="script"><link rel="preload" href="/docs/assets/js/1.862c9585.js" as="script"><link rel="preload" href="/docs/assets/js/23.7073b41a.js" as="script"><link rel="preload" href="/docs/assets/js/9.8ca5af17.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.7e130adc.js"><link rel="prefetch" href="/docs/assets/js/11.65ad8e9f.js"><link rel="prefetch" href="/docs/assets/js/12.46643dd4.js"><link rel="prefetch" href="/docs/assets/js/13.f1520614.js"><link rel="prefetch" href="/docs/assets/js/14.d216077d.js"><link rel="prefetch" href="/docs/assets/js/15.6837f92b.js"><link rel="prefetch" href="/docs/assets/js/16.14429adf.js"><link rel="prefetch" href="/docs/assets/js/17.c9feb33e.js"><link rel="prefetch" href="/docs/assets/js/18.a73900b5.js"><link rel="prefetch" href="/docs/assets/js/19.689342f6.js"><link rel="prefetch" href="/docs/assets/js/20.00e6892d.js"><link rel="prefetch" href="/docs/assets/js/21.41144380.js"><link rel="prefetch" href="/docs/assets/js/22.e850c241.js"><link rel="prefetch" href="/docs/assets/js/24.1788692f.js"><link rel="prefetch" href="/docs/assets/js/25.e773d63b.js"><link rel="prefetch" href="/docs/assets/js/26.f0609ac9.js"><link rel="prefetch" href="/docs/assets/js/27.f2d2a212.js"><link rel="prefetch" href="/docs/assets/js/4.b59b6e9d.js"><link rel="prefetch" href="/docs/assets/js/5.54b80a51.js"><link rel="prefetch" href="/docs/assets/js/6.06959b3a.js"><link rel="prefetch" href="/docs/assets/js/7.d7f381ff.js"><link rel="prefetch" href="/docs/assets/js/8.5c4c3e32.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.62f053a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>小明的学习笔记</h3> <p class="description" data-v-59e6cb88></p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="小明的学习笔记" class="logo"> <span class="site-name">小明的学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link"><i class="undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li></ul></div></div><div class="nav-item"><a href="/docs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/docs/about/" class="nav-link"><i class="undefined"></i>
  关于
</a></div><div class="nav-item"><a href="/docs/quanxue.html" class="nav-link"><i class="undefined"></i>
  劝学
</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link"><i class="undefined"></i>
  主页面about
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  谷歌
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      小明的 知识 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/712139234359182/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>14</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>1</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41><li class="social-item" data-v-1fad0c41><i class="iconfont reco-github" style="color:#f8b26a;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-npm" style="color:#f47e60;" data-v-1fad0c41></i></li></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link"><i class="undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li></ul></div></div><div class="nav-item"><a href="/docs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/docs/about/" class="nav-link"><i class="undefined"></i>
  关于
</a></div><div class="nav-item"><a href="/docs/quanxue.html" class="nav-link"><i class="undefined"></i>
  劝学
</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link"><i class="undefined"></i>
  主页面about
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  谷歌
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      小明的 知识 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/712139234359182/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/docs/" aria-current="page" class="sidebar-link">欢迎</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/docs/backend/java/java0" class="sidebar-heading clickable open"><span>Java基础</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/backend/java/java1.html" class="sidebar-link">1.对象和类</a></li><li><a href="/docs/backend/java/java2.html" class="sidebar-link">2.字符串</a></li><li><a href="/docs/backend/java/java3.html" class="sidebar-link">3.对象和封装</a></li><li><a href="/docs/backend/java/java4.html" class="sidebar-link">4.继承和重写</a></li><li><a href="/docs/backend/java/java5.html" class="sidebar-link">5.系统常用类</a></li><li><a href="/docs/backend/java/java6.html" class="sidebar-link">6.异常和log4j</a></li><li><a href="/docs/backend/java/java7.html" class="sidebar-link">7.集合框架</a></li><li><a href="/docs/backend/java/java8.html" aria-current="page" class="active sidebar-link">8.多线程</a></li><li><a href="/docs/backend/java/java9.html" class="sidebar-link">9.IO流</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Java 多线程</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Java 多线程</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>小明</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/3/7</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>java</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="一、什么是进程和线程"><a href="#一、什么是进程和线程" class="header-anchor">#</a> 一、什么是进程和线程?</h2> <blockquote><ul><li><p><strong>进程</strong> - 进程是具有一定独立功能的程序（例如QQ.exe），关于某个数据集合上的一次运行活动，进程是系统进行资源分配和调度的一个独立单位。</p></li> <li><p><strong>线程</strong> - 线程是进程的一个实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位；线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源(如程序计数器，一组寄存器和栈)，但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。</p></li></ul> <p>一个线程可以创建和撤销另一个线程；同一个进程中的多个线程之间可以并发执行。</p> <p>相对进程而言，线程是一个更加接近于执行体的概念，它可以与同进程中的其他线程共享数据，但拥有自己的栈空间，拥有独立的执行序列。</p> <p>在串行程序基础上引入线程和进程是为了提高程序的并发度，从而提高程序运行效率和响应时间。</p></blockquote> <h2 id="二、两种实现多线程方式"><a href="#二、两种实现多线程方式" class="header-anchor">#</a> 二、两种实现多线程方式:</h2> <h6 id="方式一-实现runnable接口-实现run方法"><a href="#方式一-实现runnable接口-实现run方法" class="header-anchor">#</a> 方式一：实现Runnable接口,实现run方法</h6> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//自定义Runnable</span>
<span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> run <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//需要处理的任务</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建Runnable对象</span>
<span class="token class-name">Runnable</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建Thread对象</span>
<span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//启动线程</span>
t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="方式二-继承thread类并重写run方法"><a href="#方式二-继承thread类并重写run方法" class="header-anchor">#</a> 方式二: 继承Thread类并重写run方法</h6> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//复写Thread类的run方法</span>
<span class="token class-name">Thread</span> thread<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> run <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//需要做的任务</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="eg-这二种创建线程的方式有什么区别"><a href="#eg-这二种创建线程的方式有什么区别" class="header-anchor">#</a> eg: 这二种创建线程的方式有什么区别？</h6> <blockquote><p>这个主要是因为Java类是单继承的，而接口可以支持多继承，使用Thread类的方式创建新线程时，最大的局限就是不支持多继承。所以具体选择哪种方式来创建线程，就看你是不是需要具体多继承的特性；其他没有本质的区别。</p></blockquote> <h2 id="三、常见的thread方法"><a href="#三、常见的thread方法" class="header-anchor">#</a> 三、常见的Thread方法</h2> <table><thead><tr><th>方法</th> <th>功能</th></tr></thead> <tbody><tr><td>static Thread currentThread()</td> <td>得到当前线程</td></tr> <tr><td>final String getName()</td> <td>返回线程的名称</td></tr> <tr><td>final void setName(String name)</td> <td>将线程的名称设置为name指定的名称</td></tr> <tr><td>void start()</td> <td>调用run()方法启动线程，开始线程的执行</td></tr> <tr><td>void run()</td> <td>存放线程体代码</td></tr></tbody></table> <h2 id="四、线程调度方法"><a href="#四、线程调度方法" class="header-anchor">#</a> 四、线程调度方法</h2> <table><thead><tr><th style="text-align:left;">方法</th> <th>功能</th></tr></thead> <tbody><tr><td style="text-align:left;">setPriority(int newPriority)</td> <td>更改线程的优先级</td></tr> <tr><td style="text-align:left;">static void sleep(long millis)</td> <td>在指定的毫秒数内让当前正在执行的线程休眠,<br>但是不释放锁，时间到后进入就绪状态等待调度</td></tr> <tr><td style="text-align:left;">void join()</td> <td>把指定的线程加入到当前线程，可以将两个交替执行的<br>线程合并为顺序执行的线程比如在线程 B 中调用了线程 A 的 join() 方法，<br>直到线程 A 执行完毕后才会继续执行线程 B,(即等待该线程终止)</td></tr> <tr><td style="text-align:left;">void yield()</td> <td>暂停当前正在执行的线程对象，并执行其他线程。<br>理论上，yield意味着放手，放弃，投降。</td></tr> <tr><td style="text-align:left;">void interrupt()</td> <td>中断线程</td></tr> <tr><td style="text-align:left;">boolean isAlive()</td> <td>测试线程是否处于活动状态</td></tr> <tr><td style="text-align:left;">void stop()</td> <td>//停止该线程。这一方法已过时</td></tr></tbody></table> <h2 id="五、线程的状态"><a href="#五、线程的状态" class="header-anchor">#</a> 五、线程的状态</h2> <p>新生&gt;&gt;可运行&gt;&gt;阻塞&gt;&gt;死亡</p> <h2 id="六、join-代码示例"><a href="#六、join-代码示例" class="header-anchor">#</a> 六、join()代码示例</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
     <span class="token annotation punctuation">@Override</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> test <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ThreadDemo</span> ty1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ThreadDemo</span> ty2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ThreadDemo</span> ty3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ty1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ty2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ty3<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       ty2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ty1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            ty1<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        ty3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
运行程序可以发现，名字<span class="token class-name">A</span>的线程加塞进<span class="token class-name">B</span><span class="token punctuation">(</span><span class="token class-name">B</span>先运行<span class="token punctuation">)</span>穿插运行运行完之后才开始运行<span class="token class-name">C</span>
</code></pre></div><h2 id="七、sleep-方法和yield-方法区别"><a href="#七、sleep-方法和yield-方法区别" class="header-anchor">#</a> 七、sleep()方法和yield()方法区别</h2> <blockquote><p>sleep()方法和yield()方法都是Thread类的静态方法（注意两个方法都是<strong>作用于当前线程</strong>），都会使当前处于运行状态的线程放弃CPU，把运行机会让给别的线程。</p></blockquote> <p>两者的区别在于：</p> <blockquote><p>1.sleep()方法会给其他线程运行的机会，不考虑其他线程的优先级，因此会给较低优先级线程一个运行的机会；yield()方法只会给相同优先级或者更高优先级的线程一个运行的机会。</p> <p>2.当线程执行了sleep(long millis)方法，将转到阻塞状态，参数millis指定睡眠时间；当线程执行了yield()方法，将转到就绪状态。</p> <p>3.sleep()方法声明抛出InterruptedException异常，而yield()方法没有声明抛出任何异常。</p> <p>4.sleep()方法比yield()方法具有更好的可移植性，不能依靠yield()方法来提高程序的并发性能。对于大多数程序员来说，yield()方法的唯一用途是在测试期间人为地提高程序的并发性能，以帮助发现一些隐藏的错误。</p></blockquote> <h2 id="八、线程同步-synchronized"><a href="#八、线程同步-synchronized" class="header-anchor">#</a> 八、线程同步=&gt;synchronized:</h2> <h3 id="_1、线程同步概念"><a href="#_1、线程同步概念" class="header-anchor">#</a> 1、线程同步概念:</h3> <blockquote><p>(1)多线程之间调用同一对象时，为了运行的安全和准确性，需要对该对象进行同步，确保每一个线程用到的时候该对象的结果都是正确的，该对象的状		态都是合理的</p> <p>(2)当两个或者以上线程访问同一资源时,需要某种方式来确保资源在某一时刻只被一个线程使用</p></blockquote> <h3 id="_2、同步代码块与同步方法"><a href="#_2、同步代码块与同步方法" class="header-anchor">#</a> 2、同步代码块与同步方法:</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//同步代码块</span>
<span class="token keyword">synchronized</span>（<span class="token class-name">Object</span> object）<span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span class="token comment">//同步方法</span>
<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3、使用同步方法代码示例"><a href="#_3、使用同步方法代码示例" class="header-anchor">#</a> 3、使用同步方法代码示例</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SellRunnable</span> sellRunnable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SellRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>sellRunnable<span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>sellRunnable<span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>sellRunnable<span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SellRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token comment">//有十张票</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            index<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;售货窗口：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;  卖出了一张票,剩余：&quot;</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;售货窗口：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; 买票时没票了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;售货窗口：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; 开始买票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//执行结果：</span>

售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">9</span>
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">9</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">8</span>
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">6</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">6</span>
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">5</span>
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">4</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">3</span>
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">2</span>
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">1</span>
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">0</span>
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">1</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>  <span class="token comment">//可以看到，票数减少是错误的</span>

<span class="token comment">//sell方法添加synchronized修饰符后 执行结果：</span>
<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            index<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;售货窗口：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;  卖出了一张票,剩余：&quot;</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;售货窗口：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; 买票时没票了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">9</span>
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">8</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">7</span>
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">6</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">2</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">5</span>
售货窗口：<span class="token number">2</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">4</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">3</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">3</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">2</span>
售货窗口：<span class="token number">3</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">1</span>
售货窗口：<span class="token number">1</span> 开始买票
售货窗口：<span class="token number">1</span>  卖出了一张票<span class="token punctuation">,</span>剩余：<span class="token number">0</span>
售货窗口：<span class="token number">2</span> 买票时没票了
售货窗口：<span class="token number">3</span> 买票时没票了

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>  <span class="token comment">// 可以看到，票数是正常减少的</span>
</code></pre></div><h2 id="九、线程通信"><a href="#九、线程通信" class="header-anchor">#</a> 九、线程通信</h2> <h3 id="_9-1-三个方法解决线程之间通信问题"><a href="#_9-1-三个方法解决线程之间通信问题" class="header-anchor">#</a> 9.1)三个方法解决线程之间通信问题</h3> <table><thead><tr><th>方法名</th> <th>作用</th></tr></thead> <tbody><tr><td>final void wait()</td> <td>表示线程一直等待，直到其它线程通知</td></tr> <tr><td>void wait(long timeout)</td> <td>线程等待指定毫秒参数的时间</td></tr> <tr><td>final void wait(long timeout,int nanos)</td> <td>线程等待指定毫秒、微妙的时间</td></tr> <tr><td>final void notify()</td> <td>唤醒-个处于等待状态的线程</td></tr> <tr><td>final void notifyAll()</td> <td>唤醒同-个对象上所有调用wait()方法的线程，<br>优先级别高的线程优先运行</td></tr></tbody></table> <h3 id="_9-2-简单代码示例"><a href="#_9-2-简单代码示例" class="header-anchor">#</a> 9.2)简单代码示例</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isbalance<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;取钱但是没钱了 ,打电话让张三充钱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">}</span>
    
		<span class="token keyword">if</span><span class="token punctuation">(</span>isbalance<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\t\t\t\t&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;存钱了,打电话让他老婆花钱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
</code></pre></div><h2 id="十、timer定时器"><a href="#十、timer定时器" class="header-anchor">#</a> 十、Timer定时器</h2> <h3 id="_10-1-只执行一次代码示例"><a href="#_10-1-只执行一次代码示例" class="header-anchor">#</a> 10.1)只执行一次代码示例</h3> <div class="language-java extra-class"><pre class="language-java"><code>   <span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">//延迟1000ms执行程序</span>
    timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;IMP 当前时间&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduledExecutionTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//延迟10000ms执行程序</span>
    timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;IMP 当前时间&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduledExecutionTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-2-循环执行代码示例"><a href="#_10-2-循环执行代码示例" class="header-anchor">#</a> 10.2) 循环执行代码示例</h3> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//前一次执行程序结束后 2000ms 后开始执行下一次程序</span>
    timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;IMP 当前时间&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduledExecutionTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//前一次程序执行开始 后 2000ms后开始执行下一次程序</span>
    timer<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;IMP 当前时间&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduledExecutionTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">2023/3/9 22:47:01</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/backend/java/java7.html" class="prev">
          7.集合框架
        </a></span> <span class="next"><a href="/docs/backend/java/java9.html">
          9.IO流
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#一、什么是进程和线程" class="sidebar-link reco-side-一、什么是进程和线程" data-v-b57cc07c>一、什么是进程和线程?</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#二、两种实现多线程方式" class="sidebar-link reco-side-二、两种实现多线程方式" data-v-b57cc07c>二、两种实现多线程方式:</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#三、常见的thread方法" class="sidebar-link reco-side-三、常见的thread方法" data-v-b57cc07c>三、常见的Thread方法</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#四、线程调度方法" class="sidebar-link reco-side-四、线程调度方法" data-v-b57cc07c>四、线程调度方法</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#五、线程的状态" class="sidebar-link reco-side-五、线程的状态" data-v-b57cc07c>五、线程的状态</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#六、join-代码示例" class="sidebar-link reco-side-六、join-代码示例" data-v-b57cc07c>六、join()代码示例</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#七、sleep-方法和yield-方法区别" class="sidebar-link reco-side-七、sleep-方法和yield-方法区别" data-v-b57cc07c>七、sleep()方法和yield()方法区别</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#八、线程同步-synchronized" class="sidebar-link reco-side-八、线程同步-synchronized" data-v-b57cc07c>八、线程同步=&gt;synchronized:</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_1、线程同步概念" class="sidebar-link reco-side-_1、线程同步概念" data-v-b57cc07c>1、线程同步概念:</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_2、同步代码块与同步方法" class="sidebar-link reco-side-_2、同步代码块与同步方法" data-v-b57cc07c>2、同步代码块与同步方法:</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_3、使用同步方法代码示例" class="sidebar-link reco-side-_3、使用同步方法代码示例" data-v-b57cc07c>3、使用同步方法代码示例</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#九、线程通信" class="sidebar-link reco-side-九、线程通信" data-v-b57cc07c>九、线程通信</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_9-1-三个方法解决线程之间通信问题" class="sidebar-link reco-side-_9-1-三个方法解决线程之间通信问题" data-v-b57cc07c>9.1)三个方法解决线程之间通信问题</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_9-2-简单代码示例" class="sidebar-link reco-side-_9-2-简单代码示例" data-v-b57cc07c>9.2)简单代码示例</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/backend/java/java8.html#十、timer定时器" class="sidebar-link reco-side-十、timer定时器" data-v-b57cc07c>十、Timer定时器</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_10-1-只执行一次代码示例" class="sidebar-link reco-side-_10-1-只执行一次代码示例" data-v-b57cc07c>10.1)只执行一次代码示例</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/backend/java/java8.html#_10-2-循环执行代码示例" class="sidebar-link reco-side-_10-2-循环执行代码示例" data-v-b57cc07c>10.2) 循环执行代码示例</a></li></ul></div></div></div><div class="global-ui"><!----><!----><!----><div class="kanbanniang" data-v-0c2c97ee><div class="banniang-container" style="display:;" data-v-0c2c97ee><div class="messageBox" style="right:68px;bottom:290px;display:none;" data-v-0c2c97ee>
      欢迎! ! !
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-0c2c97ee><i class="kbnfont kbn-ban-home ban-home" data-v-0c2c97ee></i> <i class="kbnfont kbn-ban-message message" data-v-0c2c97ee></i> <i class="kbnfont kbn-ban-close close" data-v-0c2c97ee></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-0c2c97ee><i class="kbnfont kbn-ban-info info" data-v-0c2c97ee></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-0c2c97ee></i></div> <canvas id="banniang" width="260px" height="320" class="live2d" style="left:0px;bottom:-20px;opacity:0.9;" data-v-0c2c97ee></canvas></div> <div class="showBanNiang" style="display:none;" data-v-0c2c97ee>
    看板娘
  </div></div><!----></div></div>
    <script src="/docs/assets/js/app.07c7a9d2.js" defer></script><script src="/docs/assets/js/3.496349f1.js" defer></script><script src="/docs/assets/js/1.862c9585.js" defer></script><script src="/docs/assets/js/23.7073b41a.js" defer></script><script src="/docs/assets/js/9.8ca5af17.js" defer></script>
  </body>
</html>
